<!-- Breadcrumbs for better SEO and UX -->
<!-- Schema.org BreadcrumbList structured data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": {% if page.lang == 'en' %}"Home"{% else %}"Accueil"{% endif %},
      "item": {
        "@type": "WebPage",
        "@id": "{{ site.url }}{% if page.lang == 'en' %}/en/{% else %}/{% endif %}",
        "name": {% if page.lang == 'en' %}"Home"{% else %}"Accueil"{% endif %}
      }
    }{% if page.layout == "post" and page.tags and page.tags.size > 0 %},
    {
      "@type": "ListItem", 
      "position": 2,
      "name": "{{ page.tags.first }}",
      "item": {
        "@type": "WebPage",
        "@id": "{{ site.url }}{% if page.lang == 'en' %}/en{% endif %}/tag/{% if page.lang == 'en' %}{% if page.tags.first == 'Development' %}development{% elsif page.tags.first == 'Security' %}security{% elsif page.tags.first == 'Personal' %}personal{% elsif page.tags.first == 'AI' %}ai{% else %}{{ page.tags.first | downcase }}{% endif %}{% else %}{% if page.tags.first == 'Développement' %}developpement{% elsif page.tags.first == 'Sécurité' %}securite{% else %}{{ page.tags.first | downcase }}{% endif %}{% endif %}/",
        "name": "{{ page.tags.first }}"
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "{{ page.title | strip_html }}",
      "item": {
        "@type": "WebPage",
        "@id": "{{ page.url | absolute_url }}",
        "name": "{{ page.title | strip_html }}"
      }
    }{% elsif page.url contains "/tag/" %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Tags",
      "item": {
        "@type": "WebPage", 
        "@id": "{{ site.url }}{% if page.lang == 'en' %}/en{% endif %}/tags/",
        "name": "Tags"
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "{{ page.title | strip_html }}",
      "item": {
        "@type": "WebPage",
        "@id": "{{ page.url | absolute_url }}",
        "name": "{{ page.title | strip_html }}"
      }
    }{% elsif page.title != "Home" and page.title != site.title and page.title != site.title_en and page.url != "/en/" %},
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ page.title | strip_html }}",
      "item": {
        "@type": "WebPage",
        "@id": "{{ page.url | absolute_url }}",
        "name": "{{ page.title | strip_html }}"
      }
    }{% endif %}
  ]
}
</script>

{% if page.lang == 'en' %}
<nav class="breadcrumbs" aria-label="Breadcrumb navigation">
{% else %}
<nav class="breadcrumbs" aria-label="Fil d'Ariane">
{% endif %}
    <div class="{% if page.full-width %} container-fluid {% else %} container-md {% endif %}">
        <div class="row">
            <div class="{% if page.full-width %} col {% else %} col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 {% endif %}">
                <ol class="breadcrumb-list">
            <li>
                {% if page.lang == 'en' %}
                    <a href="{{ '/en/' | relative_url }}">Home</a>
                {% else %}
                    <a href="{{ '/' | relative_url }}">Accueil</a>
                {% endif %}
            </li>
            
            {% if page.layout == "post" %}
                <!-- Page d'article -->
                {% if page.tags and page.tags.size > 0 %}
                    <li>
                        {% if page.lang == 'en' %}
                            {% assign tag_url = "/en/tag/" | append: page.tags.first | downcase | append: "/" %}
                            {% if page.tags.first == "Development" %}
                              {% assign tag_url = "/en/tag/development/" %}
                            {% elsif page.tags.first == "Security" %}
                              {% assign tag_url = "/en/tag/security/" %}
                            {% elsif page.tags.first == "Personal" %}
                              {% assign tag_url = "/en/tag/personal/" %}
                            {% elsif page.tags.first == "AI" %}
                              {% assign tag_url = "/en/tag/ai/" %}
                            {% else %}
                              {% assign tag_url = "/en/tag/" | append: page.tags.first | downcase | append: "/" %}
                            {% endif %}
                        {% else %}
                            {% assign tag_url = "/tag/" | append: page.tags.first | downcase | append: "/" %}
                            {% if page.tags.first == "Développement" %}
                              {% assign tag_url = "/tag/developpement/" %}
                            {% elsif page.tags.first == "Sécurité" %}
                              {% assign tag_url = "/tag/securite/" %}
                            {% else %}
                              {% assign tag_url = "/tag/" | append: page.tags.first | downcase | append: "/" %}
                            {% endif %}
                        {% endif %}
                        <a href="{{ tag_url }}">{{ page.tags.first }}</a>
                    </li>
                {% endif %}
                <li class="active">
                    <span>{{ page.title | strip_html }}</span>
                </li>
            {% elsif page.url contains "/tag/" %}
                <!-- Page de tag -->
                <li>
                    {% if page.lang == 'en' %}
                        <a href="/en/tags/">Tags</a>
                    {% else %}
                        <a href="/tags/">Tags</a>
                    {% endif %}
                </li>
                <li class="active">
                    <span>{{ page.title | strip_html }}</span>
                </li>
            {% elsif page.title != "Home" and page.title != site.title and page.title != site.title_en and page.url != "/en/" %}
                <!-- Autres pages -->
                <li class="active">
                    <span>{{ page.title | strip_html }}</span>
                </li>
            {% endif %}
            
            <!-- Pagination pour la liste des articles -->
            {% if paginator and paginator.page > 1 %}
                <li class="active">
                    <span>Page {{ paginator.page }}</span>
                </li>
            {% endif %}
                </ol>
            </div>
        </div>
    </div>
</nav>

<style>
.breadcrumbs {
    background-color: transparent;
    padding: 1rem 0;
    margin-bottom: 1rem;
}

.breadcrumb-list {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    list-style: none;
    margin: 0;
    padding: 0;
    font-size: 1rem;
    font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

.breadcrumb-list li {
    display: flex;
    align-items: center;
}

.breadcrumb-list li:not(:last-child)::after {
    content: "›";
    margin-left: 0.75rem;
    margin-right: 0.75rem;
    color: #999;
    font-size: 1.1rem;
}

.breadcrumb-list a {
    color: #edb926;
    text-decoration: none;
    transition: color 0.2s;
    font-weight: 400;
}

.breadcrumb-list a:hover {
    color: #d4a521;
    text-decoration: underline;
}

.breadcrumb-list .active span {
    color: #f5f5f5;
    font-weight: 400;
}

@media (max-width: 768px) {
    .breadcrumbs {
        padding: 0.75rem 0;
    }
    
    .breadcrumb-list {
        font-size: 0.9rem;
    }
    
    .breadcrumb-list li:not(:last-child)::after {
        margin-left: 0.5rem;
        margin-right: 0.5rem;
    }
}
</style>